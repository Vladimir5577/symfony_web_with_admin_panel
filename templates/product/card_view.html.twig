<!doctype html>
<html lang="ru">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>{{ product.name }} — UFE School</title>
    <meta name="description" content="{{ product.description ? (product.description|length > 160 ? product.description|slice(0, 160) ~ '…' : product.description) : product.name }}" />

    <style>
        :root{
            --bg:#070A12;
            --card: rgba(255,255,255,.06);
            --stroke: rgba(255,255,255,.12);
            --text: rgba(255,255,255,.92);
            --muted: rgba(255,255,255,.68);
            --muted2: rgba(255,255,255,.55);
            --shadow: 0 16px 50px rgba(0,0,0,.45);
            --radius: 18px;
            --radius2: 22px;
            --lime: #c9f23d;
            --max: 1120px;
        }
        *{box-sizing:border-box}
        html,body{height:100%}
        body{margin:0; font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial, "Noto Sans", "Helvetica Neue"; background: var(--bg); color: var(--text); -webkit-font-smoothing: antialiased; overflow-x:hidden;}
        a{color:inherit; text-decoration:none}
        a:hover{color:#fff}

        .bg-glow{position:fixed; inset:0; pointer-events:none; z-index:-3; background: radial-gradient(900px circle at 70% 8%, rgba(168,85,247,.22), transparent 45%), radial-gradient(900px circle at 22% 18%, rgba(99,102,241,.18), transparent 50%), radial-gradient(900px circle at 50% 95%, rgba(56,189,248,.08), transparent 45%);}
        .bg-noise{position:fixed; inset:0; pointer-events:none; z-index:-2; opacity:.35; background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='180' height='180'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.9' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='180' height='180' filter='url(%23n)' opacity='.12'/%3E%3C/svg%3E"); mix-blend-mode: overlay;}
        .bg-vignette{position:fixed; inset:-40px; pointer-events:none; z-index:-1; background: radial-gradient(1200px circle at 50% 20%, rgba(0,0,0,0), rgba(0,0,0,.55) 60%, rgba(0,0,0,.75) 100%);}

        .wrap{max-width: var(--max); margin:0 auto; padding: 0 18px;}
        .section{padding: 70px 0;}
        @media (max-width: 720px){ .section{padding: 56px 0;} }

        .header{position:sticky; top:0; z-index:50; backdrop-filter: blur(14px); background: rgba(0,0,0,.30); border-bottom: 1px solid rgba(255,255,255,.10);}
        .header-row{display:flex; align-items:center; justify-content:space-between; padding: 14px 0; gap: 14px;}
        .brand{display:flex; align-items:center; gap:10px; font-weight: 700; letter-spacing: .2px;}
        .brand-dot{width:10px; height:10px; border-radius:999px; background: linear-gradient(135deg, rgba(168,85,247,1), rgba(99,102,241,1)); box-shadow: 0 0 24px rgba(168,85,247,.45);}
        .nav{display:flex; gap:18px; align-items:center; color: var(--muted); font-size: 14px;}
        .nav a{padding:8px 10px; border-radius: 10px;}
        .nav a:hover{background: rgba(255,255,255,.06); color:#fff}
        @media (max-width: 760px){ .nav{display:none} }

        .glass{background: var(--card); border: 1px solid var(--stroke); border-radius: var(--radius2); box-shadow: var(--shadow); backdrop-filter: blur(16px);}
        .card{padding: 0;}
        .muted{color: var(--muted)}
        .muted2{color: var(--muted2)}
        .kicker{font-size:13px; color: var(--muted); letter-spacing:.2px}
        .h1{font-size: clamp(26px, 3.5vw, 42px); line-height: 1.1; margin: 0; font-weight: 780; letter-spacing: -0.5px;}
        .lead{font-size: 16px; line-height: 1.55; margin: 14px 0 0; color: var(--muted);}
        .h2{font-size: clamp(20px, 2vw, 26px); margin:0; font-weight: 760;}
        .sub{margin-top:10px; color: var(--muted); line-height:1.6;}

        .btnrow{display:flex; gap:12px; flex-wrap:wrap; margin-top: 18px;}
        .btn{display:inline-flex; align-items:center; justify-content:center; gap:10px; padding: 12px 16px; border-radius: 14px; font-weight: 720; font-size: 14px; border: 1px solid transparent; transition: transform .08s ease, background .15s ease; user-select:none; cursor:pointer;}
        .btn:active{transform: translateY(1px)}
        .btn-primary{background: #fff; color: #000;}
        .btn-primary:hover{background: rgba(255,255,255,.88)}
        .btn-ghost{background: rgba(255,255,255,.07); border-color: rgba(255,255,255,.12); color: #fff;}
        .btn-ghost:hover{background: rgba(255,255,255,.10)}
        .btn-lime{background: rgba(201,242,61,.92); color:#000; box-shadow: 0 10px 30px rgba(201,242,61,.12);}
        .btn-lime:hover{background: rgba(201,242,61,.84)}

        /* Card detail (product view) — image left, text right */
        .card-detail{position:relative; overflow:hidden; display:grid; grid-template-columns: minmax(280px, 1fr) minmax(300px, 1.2fr); gap: 0; min-height: 400px;}
        @media (max-width: 720px){ .card-detail{grid-template-columns: 1fr; min-height: 0;} }
        .card-detail .module-blob{position:absolute; width: 280px; height: 280px; border-radius:999px; filter: blur(50px); opacity:.12; pointer-events:none; top:-140px; right:-100px; background: rgba(168,85,247,1);}
        .card-detail .module-blob2{position:absolute; width: 260px; height: 260px; border-radius:999px; filter: blur(54px); opacity:.1; pointer-events:none; bottom:-120px; left:-100px; background: rgba(99,102,241,1);}
        .card-detail-img{overflow: hidden; display: flex; align-items: center; justify-content: center; background: rgba(0,0,0,.2);}
        .card-detail-img:first-child{border-radius: var(--radius2) 0 0 var(--radius2);}
        @media (max-width: 720px){ .card-detail-img:first-child{border-radius: var(--radius2) var(--radius2) 0 0;} }
        .card-detail-img img{width:100%; height:100%; min-height: 320px; object-fit: cover; display: block;}
        .card-detail-body{padding: 28px 32px; display: flex; flex-direction: column; justify-content: center;}
        @media (max-width: 720px){ .card-detail-body{padding: 24px 22px;} }
        .card-detail .tag{display:inline-flex; font-size: 12px; padding: 7px 12px; border-radius: 999px; border: 1px solid rgba(255,255,255,.10); background: rgba(255,255,255,.06); color: rgba(255,255,255,.78); align-self: flex-start;}
        .card-detail .h1{margin-top: 14px;}
        .card-detail-desc{margin-top: 16px; color: var(--muted); line-height: 1.7; font-size: 15px; white-space: pre-line;}
        .card-detail .btnrow{margin-top: 24px;}
        .mt-24{margin-top: 24px}
    </style>
</head>
<body>
<div class="bg-glow"></div>
<div class="bg-noise"></div>
<div class="bg-vignette"></div>

<header class="header">
    <div class="wrap">
        <div class="header-row">
            <a class="brand" href="{{ path('app_web') }}" aria-label="UFE School">
                <span class="brand-dot" aria-hidden="true"></span>
                <span>UFE School</span>
            </a>
            <nav class="nav" aria-label="Навигация">
                <a href="{{ path('app_web') }}#program">Программа</a>
                <a href="{{ path('app_product') }}">Все продукты</a>
            </nav>
        </div>
    </div>
</header>

<main class="section">
    <div class="wrap">
        <div class="glass card card-detail">
            <div class="module-blob" aria-hidden="true"></div>
            <div class="module-blob2" aria-hidden="true"></div>

            {% if product.image %}
            <div class="card-detail-img">
                <img src="{{ ('uploads/images/' ~ product.image) | imagine_filter('medium') }}" alt="{{ product.name|e }}" />
            </div>
            {% else %}
            <div class="card-detail-img" style="background: rgba(255,255,255,.04); min-height: 320px;">
                <span class="muted2">Нет изображения</span>
            </div>
            {% endif %}

            <div class="card-detail-body">
                <div class="tag">
                    {% if product.price is not null %}
                        {{ product.price|number_format(0, '', ' ') }} ₽
                    {% else %}
                        Продукт
                    {% endif %}
                </div>
                <h1 class="h1">{{ product.name }}</h1>

                {% if product.description %}
                <div class="card-detail-desc">{{ product.description }}</div>
                {% endif %}

                <div class="btnrow">
                    <a class="btn btn-lime" href="{{ path('app_web') }}#consultation">Консультация</a>
                    <a class="btn btn-ghost" href="{{ path('app_web') }}#program">← К программе</a>
                </div>
            </div>
        </div>
    </div>
</main>
</body>
</html>
